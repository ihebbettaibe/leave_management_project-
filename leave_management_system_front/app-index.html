<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Leave Management System</title>
  <base href="/">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="public/favicon.ico">
  <style>
    /* Basic app styles */
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
    
    /* Loading spinner */
    .loading {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      font-size: 18px;
    }
  </style>
</head>
<body>
  <div id="angular-app">
    <div class="loading">Loading Leave Management System...</div>
  </div>

  <!-- Import maps for module loading -->
  <script type="importmap">
  {
    "imports": {
      "@angular/core": "https://unpkg.com/@angular/core@16/bundles/core.umd.min.js",
      "@angular/common": "https://unpkg.com/@angular/common@16/bundles/common.umd.min.js",
      "@angular/platform-browser": "https://unpkg.com/@angular/platform-browser@16/bundles/platform-browser.umd.min.js",
      "@angular/platform-browser-dynamic": "https://unpkg.com/@angular/platform-browser-dynamic@16/bundles/platform-browser-dynamic.umd.min.js",
      "@angular/router": "https://unpkg.com/@angular/router@16/bundles/router.umd.min.js",
      "@angular/forms": "https://unpkg.com/@angular/forms@16/bundles/forms.umd.min.js",
      "@angular/common/http": "https://unpkg.com/@angular/common@16/bundles/http.umd.min.js",
      "rxjs": "https://unpkg.com/rxjs@7/dist/bundles/rxjs.umd.min.js"
    }
  }
  </script>

  <!-- Angular app loading script -->
  <script type="module">
    // For now, let's create a simple routing system that loads components based on URL
    const routes = {
      '/': () => window.location.href = '/dashboard',
      '/dashboard': () => loadComponent('dashboard'),
      '/calender': () => loadComponent('calendar'), 
      '/leaverequests': () => loadComponent('leave-requests'),
      '/approves': () => loadComponent('approvals'),
      '/profile': () => loadComponent('profile')
    };

    function loadComponent(componentName) {
      const appDiv = document.getElementById('angular-app');
      
      // Clear current content
      appDiv.innerHTML = '<div class="loading">Loading ' + componentName + '...</div>';
      
      // Simulate component loading and render appropriate component
      setTimeout(() => {
        switch(componentName) {
          case 'dashboard':
            loadDashboard();
            break;
          case 'calendar':
            loadCalendar();
            break;
          case 'leave-requests':
            loadLeaveRequests();
            break;
          case 'approvals':
            loadApprovals();
            break;
          case 'profile':
            loadProfile();
            break;
          default:
            appDiv.innerHTML = '<div class="loading">Component not found</div>';
        }
      }, 500);
    }

    function loadDashboard() {
      document.getElementById('angular-app').innerHTML = `
        <div style="min-height: 100vh; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 20px;">
          <div style="max-width: 1200px; margin: 0 auto; background: white; border-radius: 20px; padding: 30px; box-shadow: 0 20px 60px rgba(0,0,0,0.1);">
            <nav style="display: flex; gap: 20px; margin-bottom: 30px; padding: 20px; background: #f8f9fa; border-radius: 10px;">
              <a href="/dashboard" style="color: #667eea; text-decoration: none; font-weight: 600;">Dashboard</a>
              <a href="/calender" style="color: #667eea; text-decoration: none; font-weight: 600;">Calendar</a>
              <a href="/leaverequests" style="color: #667eea; text-decoration: none; font-weight: 600;">Leave Requests</a>
              <a href="/approves" style="color: #667eea; text-decoration: none; font-weight: 600;">Approvals</a>
              <a href="/profile" style="color: #667eea; text-decoration: none; font-weight: 600;">Profile</a>
            </nav>
            
            <h1 style="color: #333; margin-bottom: 20px;">Dashboard</h1>
            <p style="color: #666; margin-bottom: 30px;">Welcome to the Leave Management System</p>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
              <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; border-left: 4px solid #667eea;">
                <h3 style="color: #333; margin-bottom: 10px;">Quick Actions</h3>
                <button onclick="window.location.href='/leaverequests'" style="background: #667eea; color: white; border: none; padding: 10px 15px; border-radius: 5px; cursor: pointer; margin-right: 10px;">Request Leave</button>
                <button onclick="window.location.href='/calender'" style="background: #764ba2; color: white; border: none; padding: 10px 15px; border-radius: 5px; cursor: pointer;">View Calendar</button>
              </div>
              
              <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; border-left: 4px solid #10b981;">
                <h3 style="color: #333; margin-bottom: 10px;">Leave Balance</h3>
                <p style="color: #666;">Annual Leave: 15 days remaining</p>
                <p style="color: #666;">Sick Leave: 5 days remaining</p>
                <p style="color: #666;">Personal Leave: 3 days remaining</p>
              </div>
              
              <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; border-left: 4px solid #f59e0b;">
                <h3 style="color: #333; margin-bottom: 10px;">Recent Requests</h3>
                <p style="color: #666;">No recent leave requests</p>
                <button onclick="window.location.href='/approves'" style="background: #f59e0b; color: white; border: none; padding: 8px 12px; border-radius: 5px; cursor: pointer; margin-top: 10px;">View All</button>
              </div>
            </div>
          </div>
        </div>
      `;
    }

    function loadCalendar() {
      document.getElementById('angular-app').innerHTML = `
        <div style="min-height: 100vh; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 20px;">
          <div style="max-width: 1200px; margin: 0 auto; background: white; border-radius: 20px; padding: 30px; box-shadow: 0 20px 60px rgba(0,0,0,0.1);">
            <nav style="display: flex; gap: 20px; margin-bottom: 30px; padding: 20px; background: #f8f9fa; border-radius: 10px;">
              <a href="/dashboard" style="color: #667eea; text-decoration: none; font-weight: 600;">Dashboard</a>
              <a href="/calender" style="color: #667eea; text-decoration: none; font-weight: 600; border-bottom: 2px solid #667eea;">Calendar</a>
              <a href="/leaverequests" style="color: #667eea; text-decoration: none; font-weight: 600;">Leave Requests</a>
              <a href="/approves" style="color: #667eea; text-decoration: none; font-weight: 600;">Approvals</a>
              <a href="/profile" style="color: #667eea; text-decoration: none; font-weight: 600;">Profile</a>
            </nav>
            
            <h1 style="color: #333; margin-bottom: 20px;">ðŸ“… Calendar</h1>
            <p style="color: #666; margin-bottom: 30px;">View leave requests and company holidays</p>
            
            <div style="background: #f8f9fa; padding: 30px; border-radius: 15px; text-align: center;">
              <h2 style="color: #333; margin-bottom: 20px;">September 2025</h2>
              
              <div style="display: grid; grid-template-columns: repeat(7, 1fr); gap: 10px; margin-bottom: 20px;">
                <div style="padding: 10px; font-weight: 600; color: #667eea;">Sun</div>
                <div style="padding: 10px; font-weight: 600; color: #667eea;">Mon</div>
                <div style="padding: 10px; font-weight: 600; color: #667eea;">Tue</div>
                <div style="padding: 10px; font-weight: 600; color: #667eea;">Wed</div>
                <div style="padding: 10px; font-weight: 600; color: #667eea;">Thu</div>
                <div style="padding: 10px; font-weight: 600; color: #667eea;">Fri</div>
                <div style="padding: 10px; font-weight: 600; color: #667eea;">Sat</div>
              </div>
              
              <div style="display: grid; grid-template-columns: repeat(7, 1fr); gap: 5px;">
                ${Array.from({length: 30}, (_, i) => `
                  <div style="padding: 15px; background: white; border-radius: 8px; border: 1px solid #e5e7eb; position: relative;">
                    <span style="font-weight: 500;">${i + 1}</span>
                    ${i === 14 ? '<div style="background: #3b82f6; color: white; font-size: 10px; padding: 2px 4px; border-radius: 3px; margin-top: 5px;">Leave</div>' : ''}
                    ${i === 21 ? '<div style="background: #ef4444; color: white; font-size: 10px; padding: 2px 4px; border-radius: 3px; margin-top: 5px;">Holiday</div>' : ''}
                  </div>
                `).join('')}
              </div>
              
              <div style="margin-top: 30px; display: flex; justify-content: center; gap: 20px;">
                <div style="display: flex; align-items: center; gap: 8px;">
                  <div style="width: 16px; height: 16px; background: #3b82f6; border-radius: 3px;"></div>
                  <span style="color: #666;">Leave Requests</span>
                </div>
                <div style="display: flex; align-items: center; gap: 8px;">
                  <div style="width: 16px; height: 16px; background: #ef4444; border-radius: 3px;"></div>
                  <span style="color: #666;">Holidays</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      `;
    }

    function loadLeaveRequests() {
      document.getElementById('angular-app').innerHTML = `
        <div style="min-height: 100vh; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 20px;">
          <div style="max-width: 1200px; margin: 0 auto; background: white; border-radius: 20px; padding: 30px; box-shadow: 0 20px 60px rgba(0,0,0,0.1);">
            <nav style="display: flex; gap: 20px; margin-bottom: 30px; padding: 20px; background: #f8f9fa; border-radius: 10px;">
              <a href="/dashboard" style="color: #667eea; text-decoration: none; font-weight: 600;">Dashboard</a>
              <a href="/calender" style="color: #667eea; text-decoration: none; font-weight: 600;">Calendar</a>
              <a href="/leaverequests" style="color: #667eea; text-decoration: none; font-weight: 600; border-bottom: 2px solid #667eea;">Leave Requests</a>
              <a href="/approves" style="color: #667eea; text-decoration: none; font-weight: 600;">Approvals</a>
              <a href="/profile" style="color: #667eea; text-decoration: none; font-weight: 600;">Profile</a>
            </nav>
            
            <h1 style="color: #333; margin-bottom: 20px;">ðŸ“‹ Leave Request</h1>
            <p style="color: #666; margin-bottom: 30px;">Submit a new leave request</p>
            
            <form style="background: #f8f9fa; padding: 30px; border-radius: 15px;">
              <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                <div>
                  <label style="display: block; margin-bottom: 8px; font-weight: 600; color: #333;">Leave Type</label>
                  <select style="width: 100%; padding: 12px; border: 1px solid #d1d5db; border-radius: 8px; font-size: 14px;">
                    <option>Annual Leave</option>
                    <option>Sick Leave</option>
                    <option>Personal Leave</option>
                    <option>Maternity Leave</option>
                    <option>Emergency Leave</option>
                  </select>
                </div>
                
                <div>
                  <label style="display: block; margin-bottom: 8px; font-weight: 600; color: #333;">Duration</label>
                  <select style="width: 100%; padding: 12px; border: 1px solid #d1d5db; border-radius: 8px; font-size: 14px;">
                    <option>Full Day</option>
                    <option>Half Day - Morning</option>
                    <option>Half Day - Afternoon</option>
                  </select>
                </div>
              </div>
              
              <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                <div>
                  <label style="display: block; margin-bottom: 8px; font-weight: 600; color: #333;">Start Date</label>
                  <input type="date" style="width: 100%; padding: 12px; border: 1px solid #d1d5db; border-radius: 8px; font-size: 14px;" value="2025-09-18">
                </div>
                
                <div>
                  <label style="display: block; margin-bottom: 8px; font-weight: 600; color: #333;">End Date</label>
                  <input type="date" style="width: 100%; padding: 12px; border: 1px solid #d1d5db; border-radius: 8px; font-size: 14px;" value="2025-09-18">
                </div>
              </div>
              
              <div style="margin-bottom: 20px;">
                <label style="display: block; margin-bottom: 8px; font-weight: 600; color: #333;">Reason</label>
                <textarea placeholder="Please provide a reason for your leave request..." style="width: 100%; padding: 12px; border: 1px solid #d1d5db; border-radius: 8px; font-size: 14px; min-height: 100px; resize: vertical;"></textarea>
              </div>
              
              <div style="margin-bottom: 30px;">
                <label style="display: block; margin-bottom: 8px; font-weight: 600; color: #333;">Attachments (Optional)</label>
                <input type="file" multiple style="width: 100%; padding: 12px; border: 1px solid #d1d5db; border-radius: 8px; font-size: 14px;">
                <small style="color: #666; margin-top: 5px; display: block;">Maximum file size: 5MB. Supported formats: PDF, DOC, DOCX, JPG, PNG</small>
              </div>
              
              <div style="display: flex; gap: 15px;">
                <button type="submit" style="background: #10b981; color: white; border: none; padding: 12px 25px; border-radius: 8px; font-size: 16px; font-weight: 600; cursor: pointer;" onclick="alert('Leave request submitted successfully!')">Submit Request</button>
                <button type="button" style="background: #6b7280; color: white; border: none; padding: 12px 25px; border-radius: 8px; font-size: 16px; font-weight: 600; cursor: pointer;" onclick="document.querySelector('form').reset()">Reset Form</button>
              </div>
            </form>
          </div>
        </div>
      `;
    }

    function loadApprovals() {
      document.getElementById('angular-app').innerHTML = `
        <div style="min-height: 100vh; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 20px;">
          <div style="max-width: 1200px; margin: 0 auto; background: white; border-radius: 20px; padding: 30px; box-shadow: 0 20px 60px rgba(0,0,0,0.1);">
            <nav style="display: flex; gap: 20px; margin-bottom: 30px; padding: 20px; background: #f8f9fa; border-radius: 10px;">
              <a href="/dashboard" style="color: #667eea; text-decoration: none; font-weight: 600;">Dashboard</a>
              <a href="/calender" style="color: #667eea; text-decoration: none; font-weight: 600;">Calendar</a>
              <a href="/leaverequests" style="color: #667eea; text-decoration: none; font-weight: 600;">Leave Requests</a>
              <a href="/approves" style="color: #667eea; text-decoration: none; font-weight: 600; border-bottom: 2px solid #667eea;">Approvals</a>
              <a href="/profile" style="color: #667eea; text-decoration: none; font-weight: 600;">Profile</a>
            </nav>
            
            <h1 style="color: #333; margin-bottom: 20px;">âœ… Leave Approvals</h1>
            <p style="color: #666; margin-bottom: 30px;">Review and approve leave requests</p>
            
            <div style="background: #f8f9fa; padding: 20px; border-radius: 15px;">
              <div style="display: grid; gap: 15px;">
                <div style="background: white; padding: 20px; border-radius: 10px; border-left: 4px solid #f59e0b;">
                  <div style="display: flex; justify-content: between; align-items: center;">
                    <div style="flex: 1;">
                      <h3 style="color: #333; margin-bottom: 5px;">John Doe - Annual Leave</h3>
                      <p style="color: #666; margin-bottom: 5px;">Sept 25-27, 2025 (3 days)</p>
                      <p style="color: #666; font-size: 14px;">Reason: Family vacation</p>
                    </div>
                    <div style="display: flex; gap: 10px;">
                      <button style="background: #10b981; color: white; border: none; padding: 8px 15px; border-radius: 5px; cursor: pointer;" onclick="alert('Request approved!')">Approve</button>
                      <button style="background: #ef4444; color: white; border: none; padding: 8px 15px; border-radius: 5px; cursor: pointer;" onclick="alert('Request declined!')">Decline</button>
                    </div>
                  </div>
                </div>
                
                <div style="background: white; padding: 20px; border-radius: 10px; border-left: 4px solid #10b981;">
                  <div style="display: flex; justify-content: between; align-items: center;">
                    <div style="flex: 1;">
                      <h3 style="color: #333; margin-bottom: 5px;">Jane Smith - Sick Leave</h3>
                      <p style="color: #666; margin-bottom: 5px;">Sept 20, 2025 (1 day)</p>
                      <p style="color: #666; font-size: 14px;">Reason: Medical appointment</p>
                      <span style="background: #10b981; color: white; padding: 4px 8px; border-radius: 4px; font-size: 12px;">Approved</span>
                    </div>
                  </div>
                </div>
                
                <div style="background: white; padding: 20px; border-radius: 10px; border-left: 4px solid #ef4444;">
                  <div style="display: flex; justify-content: between; align-items: center;">
                    <div style="flex: 1;">
                      <h3 style="color: #333; margin-bottom: 5px;">Mike Johnson - Personal Leave</h3>
                      <p style="color: #666; margin-bottom: 5px;">Sept 30, 2025 (1 day)</p>
                      <p style="color: #666; font-size: 14px;">Reason: Personal matters</p>
                      <span style="background: #ef4444; color: white; padding: 4px 8px; border-radius: 4px; font-size: 12px;">Declined</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      `;
    }

    function loadProfile() {
      document.getElementById('angular-app').innerHTML = `
        <div style="min-height: 100vh; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 20px;">
          <div style="max-width: 1200px; margin: 0 auto; background: white; border-radius: 20px; padding: 30px; box-shadow: 0 20px 60px rgba(0,0,0,0.1);">
            <nav style="display: flex; gap: 20px; margin-bottom: 30px; padding: 20px; background: #f8f9fa; border-radius: 10px;">
              <a href="/dashboard" style="color: #667eea; text-decoration: none; font-weight: 600;">Dashboard</a>
              <a href="/calender" style="color: #667eea; text-decoration: none; font-weight: 600;">Calendar</a>
              <a href="/leaverequests" style="color: #667eea; text-decoration: none; font-weight: 600;">Leave Requests</a>
              <a href="/approves" style="color: #667eea; text-decoration: none; font-weight: 600;">Approvals</a>
              <a href="/profile" style="color: #667eea; text-decoration: none; font-weight: 600; border-bottom: 2px solid #667eea;">Profile</a>
            </nav>
            
            <h1 style="color: #333; margin-bottom: 20px;">ðŸ‘¤ User Profile</h1>
            <p style="color: #666; margin-bottom: 30px;">Manage your account information</p>
            
            <div style="display: grid; grid-template-columns: 1fr 2fr; gap: 30px;">
              <div style="background: #f8f9fa; padding: 30px; border-radius: 15px; text-align: center;">
                <div style="width: 120px; height: 120px; background: #667eea; border-radius: 50%; margin: 0 auto 20px; display: flex; align-items: center; justify-content: center; color: white; font-size: 36px; font-weight: 600;">JD</div>
                <h2 style="color: #333; margin-bottom: 10px;">John Doe</h2>
                <p style="color: #666; margin-bottom: 5px;">Software Developer</p>
                <p style="color: #666;">IT Department</p>
              </div>
              
              <div style="background: #f8f9fa; padding: 30px; border-radius: 15px;">
                <h3 style="color: #333; margin-bottom: 20px;">Personal Information</h3>
                <div style="display: grid; gap: 15px;">
                  <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                    <div>
                      <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">First Name</label>
                      <input type="text" value="John" style="width: 100%; padding: 10px; border: 1px solid #d1d5db; border-radius: 6px;">
                    </div>
                    <div>
                      <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">Last Name</label>
                      <input type="text" value="Doe" style="width: 100%; padding: 10px; border: 1px solid #d1d5db; border-radius: 6px;">
                    </div>
                  </div>
                  
                  <div>
                    <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">Email</label>
                    <input type="email" value="john.doe@company.com" style="width: 100%; padding: 10px; border: 1px solid #d1d5db; border-radius: 6px;">
                  </div>
                  
                  <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                    <div>
                      <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">Department</label>
                      <input type="text" value="IT Department" style="width: 100%; padding: 10px; border: 1px solid #d1d5db; border-radius: 6px;">
                    </div>
                    <div>
                      <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">Position</label>
                      <input type="text" value="Software Developer" style="width: 100%; padding: 10px; border: 1px solid #d1d5db; border-radius: 6px;">
                    </div>
                  </div>
                  
                  <button style="background: #667eea; color: white; border: none; padding: 12px 25px; border-radius: 8px; font-size: 16px; font-weight: 600; cursor: pointer; margin-top: 20px;" onclick="alert('Profile updated successfully!')">Update Profile</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      `;
    }

    // Router function
    function router() {
      const path = window.location.pathname;
      const route = routes[path];
      
      if (route) {
        route();
      } else {
        // Default to dashboard
        window.history.pushState(null, '', '/dashboard');
        routes['/dashboard']();
      }
    }

    // Handle browser navigation
    window.addEventListener('popstate', router);
    
    // Handle link clicks
    document.addEventListener('click', function(e) {
      if (e.target.tagName === 'A' && e.target.href && e.target.href.startsWith(window.location.origin)) {
        e.preventDefault();
        const path = new URL(e.target.href).pathname;
        window.history.pushState(null, '', path);
        router();
      }
    });

    // Initial load
    router();
  </script>
</body>
</html>